(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"223d":function(e,t,n){"use strict";(function(e){var t=n("cc64"),r=n("be0a"),a=(n("e186"),n("6054"),n("a18c")),o=n("4360"),c=(n("2934"),n("fec0")),i=n("5f87"),u=["/login","/wxLogin"];function s(){var e=null;return e=c["a"].connect("http://yyds.it98k.cn/chat",{transports:["websocket"]}),e}a["a"].beforeEach(function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(r,a,c){var f,d,p,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(f=Object(i["b"])("member_id"),d=Object(i["a"])(),!d){n.next=28;break}if("/login"!==r.path){n.next=7;break}c({path:"/"}),n.next=26;break;case 7:if(p=o["a"].getters.userInfo,!p){n.next=12;break}c(),n.next=26;break;case 12:return n.prev=12,n.next=15,o["a"].dispatch("getUserInfo");case 15:return l=n.sent,n.next=18,s();case 18:e.scoketIo=n.sent,e.scoketIo.emit("login",{nickname:l.nickname,_id:l._id}),c(Object(t["a"])(Object(t["a"])({},r),{},{replace:!0})),n.next=26;break;case 23:n.prev=23,n.t0=n["catch"](12),c("/login?redirect=".concat(r.path,"&member_id=").concat(f));case 26:n.next=29;break;case 28:-1!==u.indexOf(r.path)?c():c("/login?redirect=".concat(r.path,"&member_id=").concat(f));case 29:case"end":return n.stop()}}),n,null,[[12,23]])})));return function(e,t,r){return n.apply(this,arguments)}}())}).call(this,n("2409"))},"259b":function(e,t){e.exports={title:"大番薯聊天室",baseUrl:"http://localhost:9018",baseApi:"/api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},2934:function(e,t,n){"use strict";n("365c"),n("b775")},"365c":function(e,t,n){"use strict";var r={Login:"/api/login",register:"/api/register",UserInfo:"/api/getInfo",queryUser:"/api/queryUser",addFriends:"/api/addFriends",getMyfriends:"api/myfriends",getWxcode:"#####",wxLogin:"#####",getWxloginInfo:"#####"};t["a"]=r},4360:function(e,t,n){"use strict";var r=n("430a"),a=n("7736"),o={token:function(e){return e.app.token},userInfo:function(e){return e.app.userInfo}},c=o,i=(n("39dd"),n("4587"),n("5f87")),u=n("c24f"),s=(n("fec0"),{token:Object(i["a"])(),scoket:null,userInfo:""}),f={SET_TOKEN:function(e,t){e.token=t},SET_USER_INFO:function(e,t){e.userInfo=t},SET_SOCKET:function(e,t){e.scoket=t}},d={login:function(e,t){var n=e.commit,r=t.username,a=t.password;return new Promise((function(e,t){Object(u["d"])({username:r.trim(),password:a}).then((function(t){n("SET_TOKEN",t.token),Object(i["g"])(t.token),e()})).catch((function(e){t(e)}))}))},getUserInfo:function(e){var t=e.commit;e.state;return new Promise((function(e,n){Object(u["c"])().then((function(n){var r=n.data;t("SET_USER_INFO",r),e(r)})).catch((function(e){n(e)}))}))},resetToken:function(e){var t=e.commit;return new Promise((function(e){Object(i["e"])(),Object(i["c"])(),Object(i["d"])(),t("SET_USER_INFO",""),e()}))}},p={state:s,mutations:f,actions:d};r["a"].use(a["a"]);var l=new a["a"].Store({modules:{app:p},getters:c});t["a"]=l},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"formatDate",(function(){return T})),n.d(r,"hidePhone",(function(){return R}));n("bca7"),n("5462"),n("62ae"),n("6d3e"),n("4bda"),n("e186");var a=n("430a"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],i={name:"App",methods:{},mounted:function(){}},u=i,s=n("cba8"),f=Object(s["a"])(u,o,c,!1,null,null,null),d=f.exports,p=n("a18c"),l=n("4360"),h=(n("223d"),n("f121")),b=(n("54ec"),n("9ec8")),m=(n("e7ec"),n("5435")),g=(n("6a68"),n("7b44")),v=(n("5c6b"),n("9737")),x=(n("a0b1"),n("e2c8")),k=(n("97e1"),n("ade4")),w=(n("78d7"),n("e425")),O=(n("34f1"),n("a241")),j=(n("e994"),n("fc89")),E=(n("5bca"),n("7ada")),P=(n("8847"),n("f1e2")),y=(n("ae40"),n("d181")),_=(n("883b"),n("92ce")),I=(n("b137"),n("00e7")),U=(n("8cd7"),n("0c3a"));a["a"].use(U["a"]),a["a"].use(I["a"]),a["a"].use(_["a"]),a["a"].use(P["a"]).use(y["a"]),a["a"].use(E["a"]),a["a"].use(j["a"]),a["a"].use(O["a"]),a["a"].use(w["a"]),a["a"].use(k["a"]),a["a"].use(x["a"]),a["a"].use(v["a"]),a["a"].use(g["a"]),a["a"].use(m["a"]),a["a"].use(b["a"]);n("9536"),n("44ce"),n("39dd"),n("f433"),n("1b03"),n("3a92"),n("5ede"),n("ccbd"),n("5972"),n("6583"),n("8741"),n("5e85"),n("20f0");function T(e,t){if(void 0!==e){var n=new Date(e);/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var a in r)if(new RegExp("(".concat(a,")")).test(t)){var o=r[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?o:A(o))}return t}}function A(e){return("00"+e).substr(e.length)}function R(e){return e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")}Object.keys(r).forEach((function(e){return a["a"].filter(e,r[e])})),a["a"].prototype.$formatDate=a["a"].filter("formatDate"),a["a"].prototype.$hidePhone=a["a"].filter("hidePhone"),a["a"].prototype.$cdn=h["$cdn"],a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:p["a"],store:l["a"],render:function(e){return e(d)}})},"5f87":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return h}));n("5ede"),n("5972"),n("6583"),n("8741"),n("5e85"),n("20f0");var r=n("5cf7"),a=n.n(r),o="vue_erkzs_token",c="p_member_id",i="redirect";function u(e){return a.a.set(i,e)}function s(){return a.a.remove(i)}function f(){return a.a.get(o)}function d(e){return a.a.set(o,e)}function p(){return a.a.remove(o)}function l(){return a.a.remove(c)}function h(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(window.location)||[,""])[1].replace(/\+/g,"%20"))||null}},7609:function(e,t,n){var r={"./env.development":"259b","./env.development.js":"259b","./env.production":"f1e0","./env.production.js":"f1e0","./env.staging":"e101","./env.staging.js":"e101"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="7609"},9536:function(e,t,n){},a18c:function(e,t,n){"use strict";var r=n("430a"),a=n("ac56"),o=(n("39dd"),n("55b1"),n("3946"),[{path:"/",component:function(){return n.e("chunk-49f09ce8").then(n.bind(null,"7431"))},redirect:"/home",meta:{title:"首页",keepAlive:!1},children:[{path:"/home",name:"Home",component:function(){return n.e("chunk-83fbc070").then(n.bind(null,"7abe"))},meta:{title:"首页",keepAlive:!1,showFoot:!0}},{path:"/my",name:"My",component:function(){return n.e("chunk-28190118").then(n.bind(null,"de72"))},meta:{title:"关于我",keepAlive:!1,showFoot:!0}},{path:"/login",name:"Login",component:function(){return n.e("chunk-ccea82a8").then(n.bind(null,"a03f"))},meta:{title:"登录",keepAlive:!1,showFoot:!1}},{path:"/wechatPage/:id",name:"WechatPage",component:function(){return n.e("chunk-0b8cf863").then(n.bind(null,"4c71"))},meta:{title:"聊天",keepAlive:!1,showFoot:!1}}]}]),c=a["a"].prototype.push;a["a"].prototype.push=function(e,t,n){return t||n?c.call(this,e,t,n):c.call(this,e).catch((function(e){return e}))},r["a"].use(a["a"]);var i=function(){return new a["a"]({scrollBehavior:function(){return{y:0}},routes:o})},u=i();t["a"]=u},b775:function(e,t,n){"use strict";n("e4d9");var r=n("ae9b"),a=(n("39dd"),n("82ae")),o=n.n(a),c=n("4360"),i=n("5f87"),u=n("f121"),s=o.a.create({baseURL:u["baseApi"],withCredentials:!0,timeout:5e3});s.interceptors.request.use((function(e){return e.hideloading||r["a"].loading({forbidClick:!0}),c["a"].getters.token&&(e.headers["token"]=Object(i["a"])()),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){setTimeout((function(){r["a"].clear()}),800);var t=e.data;return t.code&&200!==t.code?(401===t.code&&c["a"].dispatch("resetToken").then((function(){location.reload()})),Promise.reject(t||"error")):Promise.resolve(t)}),(function(e){return r["a"].clear(),Promise.reject(e)})),t["a"]=s},c24f:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var r=n("365c"),a=n("b775");function o(e){return Object(a["a"])({url:r["a"].Login,method:"post",data:e})}function c(e){return Object(a["a"])({url:r["a"].register,method:"post",data:e})}function i(e){return Object(a["a"])({url:r["a"].UserInfo,method:"post",data:e,hideloading:!0})}function u(e){return Object(a["a"])({url:r["a"].queryUser,method:"post",data:e})}function s(e){return Object(a["a"])({url:r["a"].addFriends,method:"post",data:e})}function f(e){return Object(a["a"])({url:r["a"].getMyfriends,method:"post",data:e})}},e101:function(e,t){e.exports={title:"大番薯聊天室",baseUrl:"https://test.xxx.com",baseApi:"https://test.xxx.com/api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},f121:function(e,t,n){var r="production",a=n("7609")("./env."+r);e.exports=a},f1e0:function(e,t){e.exports={title:"大番薯聊天室",baseUrl:"https://www.xxx.com/",baseApi:"http://yyds.it98k.cn",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}}},[[0,"runtime","chunk-vantUI","chunk-libs"]]]);