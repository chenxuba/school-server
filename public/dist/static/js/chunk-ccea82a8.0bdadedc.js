(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccea82a8"],{1888:function(e,t,a){},2483:function(e,t,a){"use strict";a("1888")},"70dc":function(e,t,a){e.exports=a.p+"static/img/02.f41b9b05.jpg"},a03f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"body"},[s("h1",[e._v("大番薯聊天室")]),s("img",{staticClass:"bg-img",attrs:{src:a("70dc")}}),e.loginflag?s("div",{staticClass:"box"},[s("form",{attrs:{action:"#"}},[s("ul",{staticClass:"li-list"},[s("li",[s("van-field",{staticClass:"username",attrs:{"input-align":"center",placeholder:"输入账号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("br"),s("li",[s("van-field",{staticClass:"username",attrs:{"input-align":"center",placeholder:"输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("li",[s("van-button",{staticClass:"login-btn",attrs:{size:"small",type:"info",color:"#00ccb8"},on:{click:function(t){return e.handlerLogin()}}},[e._v("登录")])],1),s("li",{staticClass:"register"},[e._v("即时聊天,随机头像,退出自焚记录")]),s("li",{staticClass:"go-register"},[s("span",{on:{click:function(t){e.loginflag=!e.loginflag}}},[e._v("去注册")])])])])]):e._e(),e.loginflag?e._e():s("div",{staticClass:"box"},[s("form",{attrs:{action:"#"}},[s("ul",{staticClass:"li-list"},[s("li",[s("van-field",{staticClass:"username",attrs:{"input-align":"center",placeholder:"输入账号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("br"),s("li",[s("van-field",{staticClass:"username",attrs:{"input-align":"center",placeholder:"输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("li",[s("van-button",{staticClass:"login-btn",attrs:{size:"small",type:"info",color:"#00ccb8"},on:{click:function(t){return e.register()}}},[e._v("注册")])],1),s("li",{staticClass:"register"},[e._v("即时聊天,随机头像,退出自焚记录")]),s("li",{staticClass:"go-register"},[s("span",{on:{click:function(t){e.loginflag=!e.loginflag}}},[e._v("去登录")])])])])])])},r=[],n=a("be0a"),i=(a("e186"),a("4587"),a("5f87")),c=a("c24f"),l={name:"Login",data:function(){return{redirect:null,loginflag:!0,username:"admin",password:"123456"}},methods:{register:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!=e.username.trim()){t.next=4;break}return e.$toast.fail("请输入账号"),t.abrupt("return");case 4:if(""!=e.password.trim()){t.next=7;break}return e.$toast.fail("请输入密码"),t.abrupt("return");case 7:return t.next=9,Object(c["f"])({username:e.username,password:e.password});case 9:t.sent,e.$toast.success("注册成功"),e.loginflag=!e.loginflag,e.username="",e.password="",t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),e.$toast.fail(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},handlerLogin:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.username.trim()){t.next=3;break}return e.$toast.fail("请输入账号"),t.abrupt("return");case 3:if(""!=e.password.trim()){t.next=6;break}return e.$toast.fail("请输入密码"),t.abrupt("return");case 6:return t.next=8,e.$store.dispatch("login",{username:e.username,password:e.password}).then((function(t){e.$router.push({path:e.redirect||"/"}),e.$toast.success("登录成功！")})).catch((function(t){e.$toast.fail(t.message)}));case 8:case"end":return t.stop()}}),t)})))()}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect,Object(i["f"])(this.redirect)},immediate:!0}}},o=l,u=(a("2483"),a("cba8")),f=Object(u["a"])(o,s,r,!1,null,"6e10fc96",null);t["default"]=f.exports}}]);